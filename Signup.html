<!DOCTYPE html>
<html>
<head>
  <title>Add Project</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    	<link rel="stylesheet" href="Webreport.css">
	<script async defer
	src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap">
	</script>
  <style>
  .alert-field {  color: red; }  


 
  </style>
</head>
<body>


    <div id="section1" class="container-fluid">

        <div class="box-Signup">
            <h2 class="HeadBox">Create your Account</h2>
            <br>

            <form>
                <div class="form-group">
                    <label for="username">Username :</label>
                    <input type="text" class="form-control" id="username">
                    <p class="alert-field" id="username_required"></p>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="Password" class="form-control" id="password">
                    <p class="alert-field" id="password_required"></p>
                </div>
             
                <div class="form-group">
                    <label for="confirm_password">Confirm password:</label>
                    <input type="Password" class="form-control" id="confirm_password">
                    <p class="alert-field" id="confirm_password_required"></p>
                </div>
                <div class="form-group">
                    <label for="fname">First name:</label>
                    <input type="text" class="form-control" id="fname">
                    <p class="alert-field" id="fname_required"></p>
                </div>
                <div class="form-group">
                    <label for="lname">Last name:</label>
                    <input type="text" class="form-control" id="lname">
                    <p class="alert-field" id="lname_required"></p>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="text" class="form-control" id="email">
                </div>
                <div class="form-group">
                    <label for="contact">Contact number:</label>
                    <input type="number" class="form-control" id="contact">
                </div>
            </form>

            <a href="#" id="SubmitSignup" type="button" class="btn btn-primary" onclick="Create_Account_check()">Create Account</a>
        </div>

    </div>
    <div id="section2" class="container-fluid">
        <h1>Section 2</h1>

    </div>
    <script>
        function Create_Account_check() {
            var username, password, fname, lname, confirm_password, username_required, password_required, fname_required, lname_required, confirm_password_required;
            var create_account = true;


            username = document.getElementById("username").value;
            password = document.getElementById("password").value;
            confirm_password = document.getElementById("confirm_password").value;
            fname = document.getElementById("fname").value;
            lname = document.getElementById("lname").value;


            if (username == "") {
                username_required = "Please enter username.";
                create_account = false;
            } else {
                username_required = "";
            }
            if (password == "") {
                password_required = "Please enter password.";
                create_account = false;
            } else {
                password_required = "";
            }
            if (confirm_password == "") {
                confirm_password_required = "Please confirm your password.";
                create_account = false;
            }
                else if (confirm_password != password) {
                confirm_password_required = "The confirm password doesn't match.";
                create_account = false;
                }
             else {
                confirm_password_required = "";
            }
            if (fname == "") {
                fname_required = "Please enter your first name.";
                create_account = false;
            } else {
                fname_required = "";
            }
            if (lname == "") {
                lname_required = "Please enter your last name.";
                create_account = false;
            } else {
                lname_required = "";
            }
            document.getElementById("username_required").innerHTML = username_required;
            document.getElementById("password_required").innerHTML = password_required;
            document.getElementById("confirm_password_required").innerHTML = confirm_password_required;
            document.getElementById("fname_required").innerHTML = fname_required;
            document.getElementById("lname_required").innerHTML = lname_required;
            if (create_account == true) { Create_Account();}
            else { alert("Please fill out this form completely.") }
        }


        function Create_Account() {
            var username, password, firstname, lastname, email, contact

            url = "http://127.0.0.1:18088/api/botservice/account/create"

            username = $("#username").val();
            password = $("#password").val();
            firstname = $("#fname").val();
            lastname = $("#lname").val();
            email = $("#email").val();
            contact = $("#contact").val();
            $.ajax({
                type: 'GET',

                url: url,
                data: { username: username, password: password, firstname: firstname, lastname: lastname, email: email,contact:contact },
                success: function (data) {
                    console.log(data)
                    
                    alert(data);
                    window.location.href = "create_account_success.html"
                },
                error: function (err) {
                    alert(err.status);
                    console.log(err);
                }
            });
        };
    </script>

</body>
</html>
    